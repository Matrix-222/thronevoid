<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø¹Ø±Ø´ Ø§Ù„ÙØ±Ø§Øº</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#0a0a0a;color:#eee;overflow:hidden;height:100vh;background:radial-gradient(circle at top, #1a1a2e, #0f0f1f)}
.stars{position:fixed;inset:0;background:transparent url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='2' height='2'><circle cx='1' cy='1' r='0.8' fill='%234499ff'/></svg>") repeat;opacity:0.4;animation:twinkle 8s infinite}
@keyframes twinkle{0%,100%{opacity:0.3}50%{opacity:0.7}}
.container{max-width:500px;margin:0 auto;padding:20px;height:100vh;display:flex;flex-direction:column}
.card{background:rgba(30,30,50,0.8);border:1px solid #444;border-radius:16px;padding:25px;margin:10px 0;box-shadow:0 8px 32px rgba(0,0,0,0.6);backdrop-filter:blur(10px)}
h1,h2{color:#00d4ff;text-align:center;margin:20px 0;text-shadow:0 0 15px #00d4ff50}
input,button{width:100%;padding:14px;margin:10px 0;border:none;border-radius:12px;font-size:1.1rem}
input{background:#222;color:#fff}
button{background:linear-gradient(45deg,#00d4ff,#0066ff);color:white;cursor:pointer;transition:.3s;box-shadow:0 4px 15px #00d4ff40}
button:hover{transform:translateY(-3px);box-shadow:0 8px 25px #00d4ff70}
.btn-small{background:#333;color:#00d4ff;padding:10px 20px;width:auto;display:inline-block;margin:5px}
#game{display:none}
.progress{width:100%;height:12px;background:#222;border-radius:6px;overflow:hidden;margin:15px 0}
.progress-bar{height:100%;background:linear-gradient(90deg,#00ff88,#00d4ff);width:0%;transition:width 0.8s}
.level{display:inline-block;background:#0066ff;color:white;padding:5px 15px;border-radius:20px;font-size:0.9rem}
</style>
</head>
<body>

<div class="stars"></div>

<div class="container" id="auth">
  <div class="card">
    <h1>Ø¹Ø±Ø´ Ø§Ù„ÙØ±Ø§Øº</h1>
    <p style="text-align:center;color:#aaa">Ø£Ù†Ø´Ø¦ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØªÙƒ Ø£Ùˆ Ø§Ø¯Ø®Ù„ Ù„Ø­Ø³Ø§Ø¨Ùƒ</p>
    <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±">
    <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    <button onclick="register()" style="background:#333">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
  </div>
</div>

<div class="container" id="game">
  <div class="card">
    <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ <span id="playerName">Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±</span> ğŸ‘‘</h2>
    <div class="level">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ <span id="level">1</span></div>
    <div class="progress"><div class="progress-bar" id="xpBar"></div></div>
    <p>Ù†Ù‚Ø§Ø· Ø§Ù„Ø®Ø¨Ø±Ø©: <span id="xp">0</span>/100</p>
    
    <div style="margin:20px 0">
      <button class="btn-small" onclick="showSection('empire')">Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ©</button>
      <button class="btn-small" onclick="showSection('battle')">Ø§Ù„Ù…Ø¹Ø§Ø±Ùƒ</button>
      <button class="btn-small" onclick="showSection('mine')">Ø§Ù„ØªØ¹Ø¯ÙŠÙ†</button>
    </div>

    <!-- Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© -->
    <div id="empire" class="section">
      <h3>ØºØ²Ùˆ Ø§Ù„ÙƒÙˆØ§ÙƒØ¨</h3>
      <p>ÙƒÙˆØ§ÙƒØ¨ Ù…Ø­ØªÙ„Ø©: <strong id="planets">0</strong></p>
      <p>Ø£Ø³Ø§Ø·ÙŠÙ„: <strong id="fleets">0</strong></p>
      <p>Ø·Ø§Ù‚Ø©: <strong id="energy">1000</strong></p>
      <button onclick="buildFleet()">Ø¨Ù†Ø§Ø¡ Ø£Ø³Ø·ÙˆÙ„ (-300 Ø·Ø§Ù‚Ø©)</button>
      <button onclick="conquerPlanet()">ØºØ²Ùˆ ÙƒÙˆÙƒØ¨ Ø¬Ø¯ÙŠØ¯</button>
    </div>

    <!-- Ø§Ù„Ù…Ø¹Ø§Ø±Ùƒ -->
    <div id="battle" class="section" style="display:none">
      <h3>Ù…Ø¹Ø±ÙƒØ© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠÙ„</h3>
      <p>Ù‚ÙˆØ© Ø£Ø³Ø·ÙˆÙ„Ùƒ: <span id="attackPower">500</span></p>
      <p>Ø§Ù„Ø¹Ø¯Ùˆ: <span id="enemyPower">800</span> â­</p>
      <button onclick="startBattle()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©!</button>
      <div id="battleResult" style="margin:20px 0;font-size:1.2rem"></div>
    </div>

    <!-- Ø§Ù„ØªØ¹Ø¯ÙŠÙ† -->
    <div id="mine" class="section" style="display:none">
      <h3>Ù…Ù†Ø¬Ù… Ø§Ù„ÙƒØ±ÙŠØ³ØªØ§Ù„</h3>
      <p>Ø§Ù„ÙƒØ±ÙŠØ³ØªØ§Ù„: <strong id="crystals">0</strong></p>
      <button style="font-size:2rem;padding:30px" onclick="mineCrystal()">â›ï¸ ØªØ¹Ø¯ÙŠÙ†!</button>
    </div>

    <button onclick="logout()" style="background:#600;margin-top:30px">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
  </div>
</div>

<script>
let player = {name:"", level:1, xp:0, planets:0, fleets:0, energy:1000, crystals:0, attack:500};

function login(){
  const name = document.getElementById("username").value.trim();
  const pass = document.getElementById("password").value;
  if(!name) return alert("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±");
  const saved = localStorage.getItem("player_"+name);
  if(saved && JSON.parse(saved).pass !== pass) return alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©");
  player = saved ? JSON.parse(saved) : {name, pass, level:1, xp:0, planets:0, fleets:0, energy:1000, crystals:0, attack:500};
  startGame();
}
function register(){
  const name = document.getElementById("username").value.trim();
  const pass = document.getElementById("password").value;
  if(!name || !pass) return alert("Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
  localStorage.setItem("player_"+name, JSON.stringify({name, pass, level:1, xp:0, planets:0, fleets:0, energy:1000, crystals:0, attack:500}));
  alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨! Ø§Ø¯Ø®Ù„ Ø§Ù„Ø¢Ù†");
}
function startGame(){
  document.getElementById("auth").style.display="none";
  document.getElementById("game").style.display="flex";
  document.getElementById("playerName").textContent = player.name;
  updateAll();
}
function updateAll(){
  document.getElementById("level").textContent = player.level;
  document.getElementById("xp").textContent = player.xp;
  document.getElementById("xpBar").style.width = (player.xp%100)+"%";
  document.getElementById("planets").textContent = player.planets;
  document.getElementById("fleets").textContent = player.fleets;
  document.getElementById("energy").textContent = player.energy;
  document.getElementById("crystals").textContent = player.crystals;
  document.getElementById("attackPower").textContent = player.attack;
  localStorage.setItem("player_"+player.name, JSON.stringify(player));
}
function addXP(n){ player.xp += n; if(player.xp >= player.level*100){ player.xp -= player.level*100; player.level++; player.attack += 100; alert("Ù…Ø¨Ø±ÙˆÙƒ! Ø§Ø±ØªÙØ¹ Ù…Ø³ØªÙˆØ§Ùƒ Ø¥Ù„Ù‰ "+player.level); } updateAll(); }

function showSection(s){
  document.querySelectorAll(".section").forEach(x=>x.style.display="none");
  document.getElementById(s).style.display="block";
}
function buildFleet(){ if(player.energy>=300){ player.fleets++; player.energy-=300; addXP(15); updateAll(); } }
function conquerPlanet(){ if(player.fleets>0){ player.planets++; player.energy+=800; player.fleets--; addXP(50); updateAll(); } }
function mineCrystal(){ player.crystals += Math.floor(Math.random()*15)+10; addXP(5); updateAll(); }
function startBattle(){
  const dmg = Math.floor(Math.random()*player.attack*0.8)+player.attack*0.6;
  const win = dmg > 800;
  document.getElementById("enemyPower").textContent = win ? "Ù…Ù‡Ø²ÙˆÙ…!" : "800";
  document.getElementById("battleResult").innerHTML = win ? "Ø§Ù†ØªØµØ±Øª! +1000 Ø·Ø§Ù‚Ø© Ùˆ+50 ÙƒØ±ÙŠØ³ØªØ§Ù„" : "Ø®Ø³Ø±Øª Ø§Ù„Ù…Ø¹Ø±ÙƒØ©!";
  if(win){ player.energy += 1000; player.crystals += 50; addXP(100); }
  updateAll();
}
function logout(){
  document.getElementById("game").style.display="none";
  document.getElementById("auth").style.display="flex";
  document.getElementById("username").value="";
  document.getElementById("password").value="";
}
</script>
</body>
</html>
