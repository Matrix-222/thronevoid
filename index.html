<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>عرش الفراغ | القصر الإمبراطوري</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  background:#000;color:#d4af37;font-family:'Cinzel',serif;overflow-y:scroll;height:100vh;position:relative;
  background:linear-gradient(to bottom,#0f0000,#000);
}
@font-face{font-family:'Cinzel';src:url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&display=swap');}

/* خلفية القصر بدون جماجم ولا أزرق */
#palace{
  position:fixed;inset:0;background:url('https://i.ibb.co/9h5Y7tQ/darth-vader-throne-skulls-gold.png') center bottom no-repeat;
  background-size:contain;opacity:0.9;filter:sepia(0.4) contrast(1.3);z-index:1;
}

/* إضاءة شموع ملكية */
.candle{
  position:fixed;width:5px;height:70px;background:#ff8800;
  box-shadow:0 0 40px #ff4400,0 0 80px #c00;opacity:0.7;
  animation:flicker 3s infinite alternate;
}
.candle:nth-child(1){left:8%;top:10%}
.candle:nth-child(2){right:8%;top:12%}
.candle:nth-child(3){left:15%;top:20%}
.candle:nth-child(4){right:15%;top:18%}
@keyframes flicker{0%,100%{opacity:0.6;height:70px}50%{opacity:1;height:85px}}

/* عنوان ملكي */
h1{
  font-size:clamp(4rem,13vw,9rem);text-align:center;color:#d4af37;
  text-shadow:0 0 50px #b8860b,0 0 100px #8b0000;font-weight:900;letter-spacing:6px;margin:50px 0;
  animation:royal 6s infinite;z-index:10;position:relative;
}
@keyframes royal{0%,100%{text-shadow:0 0 50px #b8860b}50%{text-shadow:0 0 100px #d4af37,0 0 200px #8b0000}}

/* أزرار ملكية */
.royal-btn{
  background:linear-gradient(45deg,#8b0000,#b8860b,#d4af37,#b8860b,#8b0000);
  color:#000;border:4px double #d4af37;padding:22px;font-size:1.9rem;font-weight:900;
  border-radius:22px;cursor:pointer;width:94%;margin:20px auto;display:block;
  box-shadow:0 12px 40px #000,0 0 70px #b8860b,inset 0 0 50px #d4af3780;
  transition:0.5s;letter-spacing:4px;
}
.royal-btn:hover{
  transform:translateY(-10px) scale(1.06);
  box-shadow:0 25px 60px #000,0 0 120px #d4af37,0 0 180px #8b0000;
  background:#d4af37;color:#000;
}

/* بطاقات فخمة */
.card{
  background:linear-gradient(135deg,#0a0000,#111);border:4px double #d4af37;
  border-radius:30px;padding:40px;margin:30px 15px;box-shadow:0 20px 70px #000,inset 0 0 60px #8b000060;
  backdrop-filter:blur(12px);
}
input{
  width:94%;padding:20px;margin:18px auto;display:block;background:#111;
  color:#d4af37;border:3px double #b8860b;border-radius:18px;font-size:1.6rem;
  text-align:center;letter-spacing:3px;
}

/* أزرار الصعود والنزول */
.scroll-btn{
  position:fixed;z-index:999;width:60px;height:60px;background:#d4af37;color:#000;
  border-radius:50%;font-size:2.5rem;line-height:60px;text-align:center;
  box-shadow:0 0 40px #b8860b,0 0 80px #8b0000;cursor:pointer;transition:0.4s;
}
#scrollDown{right:20px;bottom:100px}
#scrollUp{right:20px;bottom:20px;display:none}
.scroll-btn:hover{transform:scale(1.2);box-shadow:0 0 80px #d4af37}

/* تذييل */
footer{
  position:relative;background:#000;padding:25px;text-align:center;color:#b8860b;
  font-size:1.2rem;border-top:4px double #d4af37;margin-top:50px;
}
footer a{color:#d4af37;font-weight:900;text-decoration:none}
</style>
</head>
<body>

<audio id="imperialMarch" autoplay loop>
  <source src="https://files.catbox.moe/8p3v0j.mp3" type="audio/mpeg">
</audio>

<div id="palace"></div>
<div class="candle"></div><div class="candle"></div><div class="candle"></div><div class="candle"></div>

<div class="container" id="auth">
  <div class="card">
    <h1>عرش الفراغ</h1>
    <p style="text-align:center;font-size:2rem;color:#8b0000;margin:40px">باسم الدم والذهب</p>
    
    <p style="font-size:1.8rem;color:#d4af37;margin:30px 0">تسجيل الدخول</p>
    <input type="text" id="username" placeholder="اسم المستخدم">
    <input type="password" id="password" placeholder="كلمة المرور">
    <button class="royal-btn" onclick="login()">تسجيل الدخول</button>

    <p style="font-size:1.8rem;color:#d4af37;margin:50px 0 20px">تسجيل مستخدم جديد</p>
    <input type="text" id="newuser" placeholder="اسم المستخدم الجديد">
    <input type="email" id="email" placeholder="البريد الإلكتروني">
    <input type="password" id="newpass" placeholder="كلمة المرور">
    <button class="royal-btn" onclick="register()">تسجيل مستخدم جديد</button>
  </div>
</div>

<div class="container hidden" id="game">
  <div class="card">
    <h1>يا جلالة <span id="playerName">الملك</span></h1>
    
    <div style="font-size:2.5rem;margin:40px;text-align:center;color:#d4af37">
      ممالك محتلة: <strong id="planets">0</strong><br><br>
      جيوش ذهبية: <strong id="fleets">0</strong><br><br>
      خزينة الدم: <strong id="energy">1000</strong>
    </div>

    <button class="royal-btn" onclick="addFleet()">استدعاء جيش ملكي</button>
    <button class="royal-btn" onclick="conquer()">غزو مملكة</button>
    <button class="royal-btn" style="border-color:#600;color:#600" onclick="logout()">مغادرة العرش</button>
  </div>
</div>

<!-- أزرار الصعود والنزول -->
<div class="scroll-btn" id="scrollDown" onclick="window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'})">↓</div>
<div class="scroll-btn" id="scrollUp" onclick="window.scrollTo({top:0,behavior:'smooth'})">↑</div>

<footer>
  كل الحقوق محفوظة لجلالة الإمبراطور © 2025 • 
  <a href="https://x.com/ccs_0" target="_blank">@ccs_0</a>
</footer>

<script>
// تشغيل الصوت
document.body.onclick = document.body.ontouchstart = ()=>{document.getElementById("imperialMarch").play()};

// أزرار الصعود والنزول
window.onscroll = function(){
  document.getElementById("scrollUp").style.display = (window.scrollY > 300) ? "block" : "none";
};

// اللعبة + التسجيل + الحفظ
let player = {name:"",planets:0,fleets:0,energy:1000};

function login(){
  const name = document.getElementById("username").value.trim() || "الملك الأعظم";
  const saved = localStorage.getItem("imperial_player_"+name);
  player = saved ? JSON.parse(saved) : {name,planets:0,fleets:0,energy:1000};
  document.getElementById("playerName").textContent = player.name;
  document.getElementById("auth").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");
  update();
}
function register(){
  const name = document.getElementById("newuser").value.trim();
  if(!name) return alert("أدخل اسم المستخدم");
  localStorage.setItem("imperial_player_"+name, JSON.stringify({name,planets:0,fleets:0,energy:1000}));
  alert("تم تسجيل المستخدم الجديد بنجاح!");
}
function update(){
  document.getElementById("planets").textContent = player.planets;
  document.getElementById("fleets").textContent = player.fleets;
  document.getElementById("energy").textContent = player.energy;
  localStorage.setItem("imperial_player_"+player.name, JSON.stringify(player));
}
function addFleet(){ if(player.energy>=600){ player.fleets++; player.energy-=600; update(); }}
function conquer(){ if(player.fleets>0){ player.planets++; player.energy+=1500; player.fleets--; update(); }}
function logout(){
  document.getElementById("game").classList.add("hidden");
  document.getElementById("auth").classList.remove("hidden");
  window.scrollTo(0,0);
}
</script>
</body>
</html>
